<app-back-button/>
<h1 class="big-title">Créer un nouvel article</h1>
<form
  class="flex flex-col justify-center items-center gap-4"
  [formGroup]="form"
  (ngSubmit)="submit()"
>
  <select
    class="custom-input ring-2 ring-purple-500"
    placeholder="Sélectionner un thème"
    formControlName="topicId"
  >
    @for (topic of topics$ | async; track topic.id) {
    <option [value]="topic.id">{{ topic.name }}</option>
    }
  </select>
  <input
    class="custom-input ring-2 ring-purple-500"
    placeholder="Titre de l'article"
    formControlName="title"
  />
  <textarea
    class="custom-input ring-2 ring-purple-500 min-h-56"
    placeholder="Contenu de l'article"
    formControlName="content"
  ></textarea>
  <button class="call-to-action" type="submit" [disabled]="!form.valid">
    Sauvegarde
  </button>

  @if (hasError()) {
  <p class="bg-red-500 px-4 text-white">Un erreur c'est produite</p>
  }
</form>
