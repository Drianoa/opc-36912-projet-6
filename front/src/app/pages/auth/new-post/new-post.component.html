<div class="formular">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Créer un nouvel article</mat-card-title>
    </mat-card-header>
    <form class="profil-form" [formGroup]="form" (ngSubmit)="submit()">
      <mat-card-content>
        <mat-form-field>
          <!--          <mat-label>Favorite food</mat-label>-->
          <mat-select placeholder="Sélectionner un thème" formControlName="topicId">
            @for (topic of topics$ | async; track topic.id) {
              <mat-option [value]="topic.id">{{ topic.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            placeholder="Titre de l'article"
            formControlName="title">
        </mat-form-field>
        <mat-form-field>
          <textarea matInput placeholder="Contenu de l'article" formControlName="content"></textarea>
        </mat-form-field>
      </mat-card-content>
      <button mat-button type="submit" [disabled]="!form.valid">Sauvegarde</button>

      @if (hasError()) {
        <p class="error">An error occurred</p>
      }
    </form>
  </mat-card>
</div>
